Zerob_str = 'Sum$(GenJet_pt>20 && abs(GenJet_eta)<2.4 && GenJet_hadronFlavour==5)<1'
Oneb_str = 'Sum$(GenJet_pt>20 && abs(GenJet_eta)<2.4 && GenJet_hadronFlavour==5)==1'
Twob_str = 'Sum$(GenJet_pt>20 && abs(GenJet_eta)<2.4 && GenJet_hadronFlavour==5)>=2'

the_samples_dict = {
#   name                              index   scale     legend              input tokens (sample name in the previous step)
    #'Data':                          [0,      1.,       'Data',             ['Run2017_MET_MiniAOD']],
    #'Data':                          [0,      1.,       'Data',             ['Run2017_Mu_ReMiniAOD', 'Run2017_Ele_ReMiniAOD']],
    #'Data':                          [0,      1.,       'Data',             ['Run2017_DoubleMu_ReMiniAOD', 'Run2017_DoubleEle_ReMiniAOD']],
    'Data':                          [0,      1.,       'Data',             ['Run2017_Ele_ReMiniAOD','Run2017_Mu_ReMiniAOD','Run2017_MET_MiniAOD','Run2017_DoubleEle_ReMiniAOD','Run2017_DoubleMu_ReMiniAOD']],
    'WplusH125_powheg':              [-12500, 10., 'WH(b#bar{b})',   ['WplusH125_powheg']],
    'WminusH125_powheg':              [-12501, 10., 'WH(b#bar{b})',   ['WminusH125_powheg']],
    'TT_DiLep':                      ["(sampleIndex==50)",     0.83,       't#bar{t}',      ['TT_DiLep']],
    #'TT_DiLep0':                      ["(sampleIndex==50)&&(nGenBJetsInFatJetCand==0)",     0.83,       't#bar{t} 0b',      ['TT_DiLep']],
    #'TT_DiLep1':                      ["(sampleIndex==50)&&(nGenBJetsInFatJetCand==1)",     0.83,       't#bar{t} 1b',      ['TT_DiLep']],
    #'TT_DiLep2':                      ["(sampleIndex==50)&&(nGenBJetsInFatJetCand>1)",    0.83,       't#bar{t} >=2b',      ['TT_DiLep']],
    'TT_SingleLep':                  [203,     0.83,       't#bar{t}',      ['TT_SingleLep']],
    #'TT_SingleLep0':                  ["(sampleIndex==203)&&(nGenBJetsInFatJetCand==0)",     0.83,       't#bar{t} 0b',      ['TT_SingleLep']],
    #'TT_SingleLep1':                  ["(sampleIndex==203)&&(nGenBJetsInFatJetCand==1)",     0.83,       't#bar{t} 1b',      ['TT_SingleLep']],
    #'TT_SingleLep2':                  ["(sampleIndex==203)&&(nGenBJetsInFatJetCand>1)",     0.83,       't#bar{t} >=2b',      ['TT_SingleLep']],
    'TT_AllHadronic':                ["(sampleIndex==212)",     0.83,       't#bar{t}',     ['TT_AllHadronic']],
    #'TT_AllHadronic0':                ["(sampleIndex==212)&&(nGenBJetsInFatJetCand==0)",     0.83,       't#bar{t} 0b',     ['TT_AllHadronic']],
    #'TT_AllHadronic1':                ["(sampleIndex==212)&&(nGenBJetsInFatJetCand==1)",     0.83,       't#bar{t} 1b',     ['TT_AllHadronic']],
    #'TT_AllHadronic2':                ["(sampleIndex==212)&&(nGenBJetsInFatJetCand>1)",     0.83,       't#bar{t} >=2b',     ['TT_AllHadronic']],
    #'TToLeptons_s':                  [16,     1.,       'Top',              ['ST_s-c_4f_lep']],
    'TToLeptons_s':                  [16,     1.,       'Top',              ['ST_s-c_4f_lep_PSw']],
    'TToLeptons_t':                  [17,     1.,       'Top',              ['ST_t-c_top_4f_inc']],
    'TBarToLeptons_t':               [18,     1.,       'Top',              ['ST_t-c_antitop_4f_inc']],
    'T_tW':                          [20,     1.,       'Top',              ['ST_tW_top_5f_inc_PSw']],
    #'T_tW':                          [20,     1.,       'Top',              ['ST_tW_top_5f_noFullHad']],
    #'Tbar_tW':                       [21,     1.,       'Top',              ['ST_tW_antitop_5f_noFullHad']],
    'Tbar_tW':                       [21,     1.,       'Top',              ['ST_tW_antitop_5f_inc']],
#    'Z_udcsg':                       [2300,   1.,       'Z+udcsg',          ['DYToLL_madgraph']],
#    'Z_b':                           [2301,   1.,       'Z+b',              ['DYToLL_madgraph']],
#    'Z_bb':                          [2302,   1.,       'Z+bb',             ['DYToLL_madgraph']],
#    'Z_udcsg_HT100To200':            [6100,   1.,       'Z+udcsg',          ['DYToLL_HT100to200_madgraph']],
#    'Z_b_HT100To200':                [6101,   1.,       'Z+b',              ['DYToLL_HT100to200_madgraph']],
#    'Z_bb_HT100To200':               [6102,   1.,       'Z+bb',             ['DYToLL_HT100to200_madgraph']],
#    'Z_udcsg_HT200To400':            [6200,   1.,       'Z+udcsg',          ['DYToLL_HT200to400_madgraph']],
#    'Z_b_HT200To400':                [6201,   1.,       'Z+b',              ['DYToLL_HT200to400_madgraph']],
#    'Z_bb_HT200To400':               [6202,   1.,       'Z+bb',             ['DYToLL_HT200to400_madgraph']],
#    'Z_udcsg_HT400To600':            [6300,   1.,       'Z+udcsg',          ['DYToLL_HT400to600_madgraph']],
#    'Z_b_HT400To600':                [6301,   1.,       'Z+b',              ['DYToLL_HT400to600_madgraph']],
#    'Z_bb_HT400To600':               [6302,   1.,       'Z+bb',             ['DYToLL_HT400to600_madgraph']],
#    'Z_udcsg_HT600To800':            [6400,   1.,       'Z+udcsg',          ['DYToLL_HT600to800_madgraph']],
#    'Z_b_HT600To800':                [6401,   1.,       'Z+b',              ['DYToLL_HT600to800_madgraph']],
#    'Z_bb_HT600To800':               [6402,   1.,       'Z+bb',             ['DYToLL_HT600to800_madgraph']],
#    'Z_udcsg_HT800To1200':           [6500,   1.,       'Z+udcsg',          ['DYToLL_HT800to1200_madgraph']],
#    'Z_b_HT800To1200':               [6501,   1.,       'Z+b',              ['DYToLL_HT800to1200_madgraph']],
#    'Z_bb_HT800To1200':              [6502,   1.,       'Z+bb',             ['DYToLL_HT800to1200_madgraph']],
#    'Z_udcsg_HT1200To2500':          [6600,   1.,       'Z+udcsg',          ['DYToLL_HT1200to2500_madgraph']],
#    'Z_b_HT1200To2500':              [6601,   1.,       'Z+b',              ['DYToLL_HT1200to2500_madgraph']],
#    'Z_bb_HT1200To2500':             [6602,   1.,       'Z+bb',             ['DYToLL_HT1200to2500_madgraph']],
#    'Z_udcsg_HT2500ToInf':           [6700,   1.,       'Z+udcsg',          ['DYToLL_HT2500toInf_madgraph']],
#    'Z_b_HT2500ToInf':               [6701,   1.,       'Z+b',              ['DYToLL_HT2500toInf_madgraph']],
#    'Z_bb_HT2500ToInf':              [6702,   1.,       'Z+bb',             ['DYToLL_HT2500toInf_madgraph']],
#    'Z_udcsg_LowMHT100To200':        [6900,   1.,       'Z+udcsg',          ['DYToLL_M4to50_HT100to200_madgraph']],
#    'Z_b_LowMHT100To200':            [6901,   1.,       'Z+b',              ['DYToLL_M4to50_HT100to200_madgraph']],
#    'Z_bb_LowMHT100To200':           [6902,   1.,       'Z+bb',             ['DYToLL_M4to50_HT100to200_madgraph']],
    'Z_udcsg':                       [Zerob_str,   1.0,       'Z+udcsg',          ['DYToLL_madgraph']],
    'Z_b':                           [Oneb_str,   1.,       'Z+b',              ['DYToLL_madgraph']],
    'Z_bb':                          [Twob_str,   1.,       'Z+bb',             ['DYToLL_madgraph']],
    'Z_udcsg_HT100To200':            [Zerob_str,   1.0,       'Z+udcsg',          ['DYToLL_HT100to200_madgraph']],
    'Z_b_HT100To200':                [Oneb_str,   1.,       'Z+b',              ['DYToLL_HT100to200_madgraph']],
    'Z_bb_HT100To200':               [Twob_str,   1.,       'Z+bb',             ['DYToLL_HT100to200_madgraph']],
    'Z_udcsg_HT200To400':            [Zerob_str,   1.0,       'Z+udcsg',          ['DYToLL_HT200to400_madgraph']],
    'Z_b_HT200To400':                [Oneb_str,   1.,       'Z+b',              ['DYToLL_HT200to400_madgraph']],
    'Z_bb_HT200To400':               [Twob_str,   1.,       'Z+bb',             ['DYToLL_HT200to400_madgraph']],
    'Z_udcsg_HT400To600':            [Zerob_str,   1.0,       'Z+udcsg',          ['DYToLL_HT400to600_madgraph']],
    'Z_b_HT400To600':                [Oneb_str,   1.,       'Z+b',              ['DYToLL_HT400to600_madgraph']],
    'Z_bb_HT400To600':               [Twob_str,   1.,       'Z+bb',             ['DYToLL_HT400to600_madgraph']],
    'Z_udcsg_HT600To800':            [Zerob_str,   1.0,       'Z+udcsg',          ['DYToLL_HT600to800_madgraph']],
    'Z_b_HT600To800':                [Oneb_str,   1.,       'Z+b',              ['DYToLL_HT600to800_madgraph']],
    'Z_bb_HT600To800':               [Twob_str,   1.,       'Z+bb',             ['DYToLL_HT600to800_madgraph']],
    'Z_udcsg_HT800To1200':           [Zerob_str,   1.0,       'Z+udcsg',          ['DYToLL_HT800to1200_madgraph']],
    'Z_b_HT800To1200':               [Oneb_str,   1.,       'Z+b',              ['DYToLL_HT800to1200_madgraph']],
    'Z_bb_HT800To1200':              [Twob_str,   1.,       'Z+bb',             ['DYToLL_HT800to1200_madgraph']],
    'Z_udcsg_HT1200To2500':          [Zerob_str,   1.0,       'Z+udcsg',          ['DYToLL_HT1200to2500_madgraph']],
    'Z_b_HT1200To2500':              [Oneb_str,   1.,       'Z+b',              ['DYToLL_HT1200to2500_madgraph']],
    'Z_bb_HT1200To2500':             [Twob_str,   1.,       'Z+bb',             ['DYToLL_HT1200to2500_madgraph']],
    'Z_udcsg_HT2500ToInf':           [Zerob_str,   1.0,       'Z+udcsg',          ['DYToLL_HT2500toInf_madgraph']],
    'Z_b_HT2500ToInf':               [Oneb_str,   1.,       'Z+b',              ['DYToLL_HT2500toInf_madgraph']],
    'Z_bb_HT2500ToInf':              [Twob_str,   1.,       'Z+bb',             ['DYToLL_HT2500toInf_madgraph']],
    'Z_udcsg_LowMHT100To200':        [Zerob_str,   1.0,       'Z+udcsg',          ['DYToLL_M4to50_HT100to200_madgraph']],
    'Z_b_LowMHT100To200':            [Oneb_str,   1.,       'Z+b',              ['DYToLL_M4to50_HT100to200_madgraph']],
    'Z_bb_LowMHT100To200':           [Twob_str,   1.,       'Z+bb',             ['DYToLL_M4to50_HT100to200_madgraph']],

  'WZ_udcsg':                      ['sampleIndex%100==0',   1.,       'VV+LF',            ['WZ']],
  'WZ_b':                          ['sampleIndex%100==1',   1.,       'VV+LF',            ['WZ']],
  'WZ_bb':                         ['sampleIndex%100==2',   1.,       'VV(bb)',           ['WZ']],
  'WW_udcsg':                      ['sampleIndex%100==0',   1.,       'VV+LF',            ['WW']],
  'WW_b':                          ['sampleIndex%100==1',   1.,       'VV+LF',            ['WW']],
  'WW_bb':                         ['sampleIndex%100==2',   1.,       'VV(bb)',           ['WW']],
  'ZZ_udcsg':                      ['sampleIndex%100==0',   1.,       'VV+LF',            ['ZZ', 'ZZ_fil']],
  'ZZ_b':                          ['sampleIndex%100==1',   1.,       'VV+LF',            ['ZZ', 'ZZ_fil']],
  'ZZ_bb':                         ['sampleIndex%100==2',   1.,       'VV(bb)',           ['ZZ', 'ZZ_fil']],
            'WJets_madgraph_udcsg':     ['sampleIndex%100==0', 1., 'W+udcsg',    ['WJets_madgraph']],
            'WJets_madgraph_b':         ['sampleIndex%100==1', 1., 'W+b',        ['WJets_madgraph']],
            'WJets_madgraph_bb':        ['sampleIndex%100==2', 1., 'W+b#bar{b}', ['WJets_madgraph']],
            'WJets-HT100To200_udcsg':   ['sampleIndex%100==0', 1., 'W+udcsg',    ['WJets-HT100To200']],
            'WJets-HT100To200_b':       ['sampleIndex%100==1', 1., 'W+b',        ['WJets-HT100To200']],
            'WJets-HT100To200_bb':      ['sampleIndex%100==2', 1., 'W+b#bar{b}', ['WJets-HT100To200']],
            'WJets-HT200To400_udcsg':   ['sampleIndex%100==0', 1., 'W+udcsg',    ['WJets-HT200To400']],
            'WJets-HT200To400_b':       ['sampleIndex%100==1', 1., 'W+b',        ['WJets-HT200To400']],
            'WJets-HT200To400_bb':      ['sampleIndex%100==2', 1., 'W+b#bar{b}', ['WJets-HT200To400']],
            'WJets-HT400To600_udcsg':   ['sampleIndex%100==0', 1., 'W+udcsg',    ['WJets-HT400To600']],
            'WJets-HT400To600_b':       ['sampleIndex%100==1', 1., 'W+b',        ['WJets-HT400To600']],
            'WJets-HT400To600_bb':      ['sampleIndex%100==2', 1., 'W+b#bar{b}', ['WJets-HT400To600']],
            'WJets-HT600To800_udcsg':   ['sampleIndex%100==0', 1., 'W+udcsg',    ['WJets-HT600To800']],
            'WJets-HT600To800_b':       ['sampleIndex%100==1', 1., 'W+b',        ['WJets-HT600To800']],
            'WJets-HT600To800_bb':      ['sampleIndex%100==2', 1., 'W+b#bar{b}', ['WJets-HT600To800']],
            'WJets-HT800To1200_udcsg':  ['sampleIndex%100==0', 1., 'W+udcsg',    ['WJets-HT800To1200']],
            'WJets-HT800To1200_b':      ['sampleIndex%100==1', 1., 'W+b',        ['WJets-HT800To1200']],
            'WJets-HT800To1200_bb':     ['sampleIndex%100==2', 1., 'W+b#bar{b}', ['WJets-HT800To1200']],
            'WJets-HT1200To2500_udcsg': ['sampleIndex%100==0', 1., 'W+udcsg',    ['WJets-HT1200To2500']],
            'WJets-HT1200To2500_b':     ['sampleIndex%100==1', 1., 'W+b',        ['WJets-HT1200To2500']],
            'WJets-HT1200To2500_bb':    ['sampleIndex%100==2', 1., 'W+b#bar{b}', ['WJets-HT1200To2500']],

            'QCD_HT200to300':   [2, 1., 'QCD', ['QCD_HT200to300']],
            'QCD_HT300to500':   [3, 1., 'QCD', ['QCD_HT300to500']],
            'QCD_HT500to700':   [4, 1., 'QCD', ['QCD_HT500to700']],
            'QCD_HT700to1000':  [5, 1., 'QCD', ['QCD_HT700to1000']],
            'QCD_HT1000to1500': [6, 1., 'QCD', ['QCD_HT1000to1500']],
            'QCD_HT1500to2000': [7, 1., 'QCD', ['QCD_HT1500to2000']],
            'QCD_HT2000toInf':  [8, 1., 'QCD', ['QCD_HT2000toInf']],
}
sample_colors = {
    'WH(b#bar{b})':      1,
#    'WH125':            880, 
    'ZH125':            808,
    't#bar{t}':         600,
    'Top':              432,
    'VV+LF':            922,
    'VV(bb)':           632,
    'W+udcsg':          418,
    'W+b':              410,
    'W+b#bar{b}':       416,
    'Z+udcsg':          394,
    'Z+b':              398,
    'Z+bb':             400,
}
